{"version":3,"sources":["webpack:///./pages/index.js?f7ee"],"names":["Index","props","state","numberOfAttendees","query","eid","res","json","data","i","length","row","slice","split","push","first","last","photourl","console","log","eventUsers","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;;;;;AACA;;IAEMA,K;;;AACJ,iBAAYC,KAAZ,EAAmB;AAAA;AAAA,uHACTA,KADS;AAElB;;;;;AAqBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;6BACS;AACP,aACE;AAAA;AAAA;AACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAiB,kBAAM,KAAKC,KAAL,CAAWC,iBAAjB,GAAqC,GAAtD;AAAA;AAAA,WADF;AAEE;AAAA;AAAA;AAAA;AAAA;AAFF,SADF;AAKE;AALF,OADF;AASD;;;;;;;;;2GA9D4BF,K;;;;;;;uBACX,gEAAmCA,MAAMG,KAAN,CAAYC,GAA/C,gB;;;AAAZC,mB;;uBACQA,IAAIC,IAAJ,E;;;AAAZD,mB;AACME,oB,GAAO,E;;AACb,qBAASC,CAAT,GAAa,CAAb,EAAgBA,IAAIH,IAAII,MAAxB,EAAgCD,KAAK,CAArC,EAAwC;AAChCE,qBADgC,GACxBL,IAAIG,CAAJ,CADwB,CAChCE,GADgC;;AAEtCA,wBAAMA,IAAIC,KAAJ,CAAU,CAAV,EAAaD,IAAID,MAAJ,GAAa,CAA1B,CAAN;AACAC,wBAAMA,IAAIE,KAAJ,CAAU,GAAV,CAAN;AACAL,uBAAKM,IAAL,CAAU;AACRC,2BAAOJ,IAAI,CAAJ,CADC;AAERK,0BAAML,IAAI,CAAJ,CAFE;AAGRM,8BAAUN,IAAI,CAAJ;AAHF,mBAAV;AAKD;AACDO,wBAAQC,GAAR,CAAYX,IAAZ;iDACO;AACLY,8BAAYZ,IADP;AAELL,qCAAmBG,IAAII;AAFlB,iB;;;;;;;;;;;;;;;;;;EAnBS,gBAAMW,S;;eAqEXrB,K;;AACf;;;;;;;;;;;;;0BAtEMA,K","file":"3.2a8b4bc6a87a51dcb5cc.hot-update.js","sourcesContent":["import React from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Attendees from './Attendees';\n// import styles from './styles/index.css';\n\nclass Index extends React.Component {\n  constructor(props) {\n      super(props);\n  }\n  static async getInitialProps(props) {\n    let res = await fetch(`http://localhost:9000/api/${props.query.eid}/attendees`);\n    res = await res.json();\n    const data = [];\n    for (let i = 0; i < res.length; i += 1) {\n      let { row } = res[i];\n      row = row.slice(1, row.length - 1);\n      row = row.split(',');\n      data.push({\n        first: row[0],\n        last: row[1],\n        photourl: row[2],\n      });\n    }\n    console.log(data);\n    return {\n      eventUsers: data,\n      numberOfAttendees: res.length,\n    };\n  }\n  // componentDidMount() {\n  //   this.getAttendees();\n  // }\n  // getAttendees() {\n  //   const url = window.location.href;\n  //   const urlEnd = url.split('/event/')[1];\n  //   const eventId = urlEnd.split('/')[0];\n  //   axios.get(`/api/${eventId}/attendees`)\n  //     .then((res) => {\n  //       const data = [];\n  //       for (let i = 0; i < res.data.length; i += 1) {\n  //         let row = res.data[i].row;\n  //         row = row.slice(1, row.length - 1);\n  //         row = row.split(',');\n  //         data.push({\n  //           first: row[0],\n  //           last: row[1],\n  //           photourl: row[2],\n  //         });\n  //       }\n  //       // const data = res;\n  //       this.state.eventUsers = data;\n  //       this.state.numberOfAttendees = res.data.length;\n  //       this.setState((state) => ({\n  //         eventUsers: this.state.eventUsers,\n  //         numberOfAttendees: this.state.numberOfAttendees,\n  //       }))\n  //     })\n  //     .catch((err) => {\n  //       throw err;\n  //   })\n  // }\n  render() {\n    return (\n      <div>\n        <div> \n          <div> Attendees {'(' + this.state.numberOfAttendees + ')'} </div>\n          <div> See All </div>\n        </div>\n        <Attendees />\n      </div>\n    );\n  }\n}\n\nexport default Index;\n// window.Attendees = App;\n\n\n\n// WEBPACK FOOTER //\n// ./pages/index.js"],"sourceRoot":""}